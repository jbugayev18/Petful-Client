{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\jbuga\\\\Petful\\\\DSA-Petful\\\\petful-client-template\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\jbuga\\\\Petful\\\\DSA-Petful\\\\petful-client-template\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\jbuga\\\\Petful\\\\DSA-Petful\\\\petful-client-template\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\jbuga\\\\Petful\\\\DSA-Petful\\\\petful-client-template\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\jbuga\\\\Petful\\\\DSA-Petful\\\\petful-client-template\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\jbuga\\\\Petful\\\\DSA-Petful\\\\petful-client-template\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import config from\"../config\";import PetService from\"../services/pet-service\";import PeopleService from\"../services/person-service\";import\"./Adopt.css\";export var Adopt=/*#__PURE__*/function(_Component){_inherits(Adopt,_Component);function Adopt(){var _this;_classCallCheck(this,Adopt);_this=_possibleConstructorReturn(this,_getPrototypeOf(Adopt).call(this));_this.petCountdown=function(){var countdown=setInterval(function(){if(_this.state.people.length<2){_this.addToQueue();_this.setState({isHidden:false});return clearInterval(countdown);}fetch(\"\".concat(config.REACT_APP_API_BASE,\"/people\"),{method:\"DELETE\",header:{\"content-type\":\"application/json\"}}).then(function(){return _this.fetchData();});_this.adopted();},4000);};_this.addToQueue=function(){var peopleNames=[\"Sam Francisco\",\"Patricio Lombard\",\"Naomi Ger\",\"Diorian Grey\",\"Law Gaurd\",\"Kristina Si\"];var addPeople=setInterval(function(){if(_this.state.people.length>4){return clearInterval(addPeople);}var index=Math.floor(Math.random()*peopleNames.length);var person=peopleNames[index];fetch(\"\".concat(config.REACT_APP_API_BASE,\"/people\"),{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({person:person})}).then(function(res){return res.json();}).then(function(){return _this.fetchData();});},4000);};_this.fetchData=function(){fetch(\"\".concat(config.REACT_APP_API_BASE,\"/pets\")).then(function(res){return res.json();}).then(function(res){return _this.setState({cats:[res.cat],dogs:[res.dog],pets:res,OK:true});});fetch(\"\".concat(config.REACT_APP_API_BASE,\"/people\")).then(function(res){return res.json();}).then(function(res){_this.setState({people:res.people});});};_this.adopted=function(){var petId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var counter=petId?petId:_this.state.people.length;if(counter===0){return;}if(counter%2===0){fetch(\"\".concat(config.REACT_APP_API_BASE,\"/pets\"),{method:\"DELETE\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({type:\"cats\"})}).then(function(){return _this.fetchData();});}else{fetch(\"\".concat(config.REACT_APP_API_BASE,\"/pets\"),{method:\"DELETE\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({type:\"dogs\"})}).then(function(){return _this.fetchData();});}};_this.onSubmit=function(event){event.preventDefault();var person=_this.state.fullName;_this.setState({currentUser:person});fetch(\"\".concat(config.REACT_APP_API_BASE,\"/people\"),{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({person:person})}).then(function(res){return res.json();}).then(function(resJson){_this.setState({people:_toConsumableArray(resJson.people)});}).then(function(){return _this.fetchData();});_this.petCountdown();};_this.handleAdoptClick=function(event){event.preventDefault();fetch(\"\".concat(config.REACT_APP_API_BASE,\"/people\"),{method:\"DELETE\",header:{\"content-type\":\"application/json\"}}).then(function(){return _this.fetchData();});_this.adopted(event.target.value);alert(\"You adopted a pet!\");_this.setState({isHidden:true});};_this.state={cats:[],dogs:[],people:[],pets:{},OK:false,fullName:\"\",currentUser:\"\",isHidden:true};return _this;}_createClass(Adopt,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;PetService.getAllPets().then(function(pets){console.log(pets);_this2.setState({cats:[pets.cat],dogs:[pets.dog]});});PeopleService.getAllPeople().then(function(people){_this2.setState({people:people.people});}).catch(function(e){return console.error(e);});}// }\n},{key:\"render\",value:function render(){var _this3=this;var hiddenClass=this.state.isHidden?\"hiddenClass\":\"\";var cats=this.state.cats?this.state.cats:[];var catCard=cats.map(function(cat){return React.createElement(\"div\",{key:\"1\",className:\"landing-content\"},React.createElement(\"img\",{src:cat.imageURL,alt:\"Landing Cat\"}),React.createElement(\"h2\",null,\"Name: \",cat.name),React.createElement(\"p\",null,\"Gender: \",cat.gender),React.createElement(\"p\",null,\"Age: \",cat.age),React.createElement(\"p\",null,\"Breed: \",cat.breed));});var dogs=this.state.dogs?this.state.dogs:[];var dogCard=dogs.map(function(dog){return React.createElement(\"div\",{key:\"1\",className:\"landing-content\"},React.createElement(\"img\",{src:dog.imageURL,alt:\"Landing Dog\"}),React.createElement(\"h2\",null,\"Name: \",dog.name),React.createElement(\"p\",null,\"Gender: \",dog.gender),React.createElement(\"p\",null,\"Age: \",dog.age),React.createElement(\"p\",null,\"Breed: \",dog.breed));});var people=this.state.people?this.state.people:[];var nextInLine=people.map(function(people,i){return React.createElement(\"div\",{key:i},React.createElement(\"li\",{className:\"people-list\"},people));});return React.createElement(\"div\",null,React.createElement(\"div\",null,React.createElement(\"h2\",null,\"Let's See Who Is In Line?\"),React.createElement(\"h2\",null,\"Cats\"),React.createElement(\"button\",{className:\"adoptCat-button \".concat(hiddenClass),onClick:this.handleAdoptClick,value:\"2\"},\"Adopt This Cat!\",\" \"),catCard),React.createElement(\"h2\",null,\"Dogs\"),React.createElement(\"button\",{className:\"adoptDog-button \".concat(hiddenClass),onClick:this.handleAdoptClick,value:\"1\"},\"Adopt This Dog!\",\" \"),dogCard,React.createElement(\"section\",null,React.createElement(\"h2\",null,\"Let's See Who Is In Line To Adopt! \"),React.createElement(\"ol\",{className:\"nextin-line\"},nextInLine)),React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"h1\",null,\"Get in Line!\"),React.createElement(\"div\",{className:\"landing-content\"},React.createElement(\"label\",{className:\"full-name\",htmlFor:\"full-name\"},\"Enter Your Name\"),React.createElement(\"br\",null),React.createElement(\"input\",{onChange:function onChange(event){return _this3.setState({fullName:event.currentTarget.value});},type:\"text\",id:\"full-name\"}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"button\",null,\"Join Queue\"))));}}]);return Adopt;}(Component);export default Adopt;","map":{"version":3,"sources":["C:/Users/jbuga/Petful/DSA-Petful/petful-client-template/src/routes/Adopt.js"],"names":["React","Component","config","PetService","PeopleService","Adopt","petCountdown","countdown","setInterval","state","people","length","addToQueue","setState","isHidden","clearInterval","fetch","REACT_APP_API_BASE","method","header","then","fetchData","adopted","peopleNames","addPeople","index","Math","floor","random","person","headers","body","JSON","stringify","res","json","cats","cat","dogs","dog","pets","OK","petId","counter","type","onSubmit","event","preventDefault","fullName","currentUser","resJson","handleAdoptClick","target","value","alert","getAllPets","console","log","getAllPeople","catch","e","error","hiddenClass","catCard","map","imageURL","name","gender","age","breed","dogCard","nextInLine","i","currentTarget"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport config from \"../config\";\r\nimport PetService from \"../services/pet-service\";\r\nimport PeopleService from \"../services/person-service\";\r\nimport \"./Adopt.css\";\r\n\r\nexport class Adopt extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      cats: [],\r\n      dogs: [],\r\n      people: [],\r\n      pets: {},\r\n      OK: false,\r\n      fullName: \"\",\r\n      currentUser: \"\",\r\n      isHidden: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    PetService.getAllPets().then((pets) => {\r\n      console.log(pets);\r\n      this.setState({\r\n        cats: [pets.cat],\r\n        dogs: [pets.dog],\r\n      });\r\n    });\r\n    PeopleService.getAllPeople()\r\n      .then((people) => {\r\n        this.setState({ people: people.people });\r\n      })\r\n      .catch((e) => console.error(e));\r\n  }\r\n  // }\r\n\r\n  petCountdown = () => {\r\n    var countdown = setInterval(() => {\r\n      if (this.state.people.length < 2) {\r\n        this.addToQueue();\r\n        this.setState({\r\n          isHidden: false,\r\n        });\r\n        return clearInterval(countdown);\r\n      }\r\n      fetch(`${config.REACT_APP_API_BASE}/people`, {\r\n        method: \"DELETE\",\r\n        header: {\r\n          \"content-type\": \"application/json\",\r\n        },\r\n      }).then(() => this.fetchData());\r\n      this.adopted();\r\n    }, 4000);\r\n  };\r\n\r\n  addToQueue = () => {\r\n    let peopleNames = [\r\n      \"Sam Francisco\",\r\n      \"Patricio Lombard\",\r\n      \"Naomi Ger\",\r\n      \"Diorian Grey\",\r\n      \"Law Gaurd\",\r\n      \"Kristina Si\",\r\n    ];\r\n\r\n    var addPeople = setInterval(() => {\r\n      if (this.state.people.length > 4) {\r\n        return clearInterval(addPeople);\r\n      }\r\n\r\n      let index = Math.floor(Math.random() * peopleNames.length);\r\n      let person = peopleNames[index];\r\n\r\n      fetch(`${config.REACT_APP_API_BASE}/people`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ person }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then(() => this.fetchData());\r\n    }, 4000);\r\n  };\r\n\r\n  fetchData = () => {\r\n    fetch(`${config.REACT_APP_API_BASE}/pets`)\r\n      .then((res) => res.json())\r\n      .then((res) =>\r\n        this.setState({\r\n          cats: [res.cat],\r\n          dogs: [res.dog],\r\n          pets: res,\r\n          OK: true,\r\n        })\r\n      );\r\n    fetch(`${config.REACT_APP_API_BASE}/people`)\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        this.setState({ people: res.people });\r\n      });\r\n  };\r\n\r\n  adopted = (petId = null) => {\r\n    let counter = petId ? petId : this.state.people.length;\r\n    if (counter === 0) {\r\n      return;\r\n    }\r\n    if (counter % 2 === 0) {\r\n      fetch(`${config.REACT_APP_API_BASE}/pets`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ type: \"cats\" }),\r\n      }).then(() => this.fetchData());\r\n    } else {\r\n      fetch(`${config.REACT_APP_API_BASE}/pets`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ type: \"dogs\" }),\r\n      }).then(() => this.fetchData());\r\n    }\r\n  };\r\n\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n    let person = this.state.fullName;\r\n    this.setState({ currentUser: person });\r\n    fetch(`${config.REACT_APP_API_BASE}/people`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ person }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((resJson) => {\r\n        this.setState({\r\n          people: [...resJson.people],\r\n        });\r\n      })\r\n      .then(() => this.fetchData());\r\n    this.petCountdown();\r\n  };\r\n\r\n  handleAdoptClick = (event) => {\r\n    event.preventDefault();\r\n    fetch(`${config.REACT_APP_API_BASE}/people`, {\r\n      method: \"DELETE\",\r\n      header: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    }).then(() => this.fetchData());\r\n    this.adopted(event.target.value);\r\n    alert(\"You adopted a pet!\");\r\n    this.setState({\r\n      isHidden: true,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let hiddenClass = this.state.isHidden ? \"hiddenClass\" : \"\";\r\n    let cats = this.state.cats ? this.state.cats : [];\r\n    let catCard = cats.map((cat) => {\r\n      return (\r\n        <div key=\"1\" className=\"landing-content\">\r\n          <img src={cat.imageURL} alt=\"Landing Cat\" />\r\n          <h2>Name: {cat.name}</h2>\r\n          <p>Gender: {cat.gender}</p>\r\n          <p>Age: {cat.age}</p>\r\n          <p>Breed: {cat.breed}</p>\r\n        </div>\r\n      );\r\n    });\r\n    let dogs = this.state.dogs ? this.state.dogs : [];\r\n\r\n    let dogCard = dogs.map((dog) => {\r\n      return (\r\n        <div key=\"1\" className=\"landing-content\">\r\n          <img src={dog.imageURL} alt=\"Landing Dog\" />\r\n          <h2>Name: {dog.name}</h2>\r\n          <p>Gender: {dog.gender}</p>\r\n          <p>Age: {dog.age}</p>\r\n          <p>Breed: {dog.breed}</p>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    let people = this.state.people ? this.state.people : [];\r\n\r\n    let nextInLine = people.map((people, i) => {\r\n      return (\r\n        <div key={i}>\r\n          <li className=\"people-list\">{people}</li>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          <h2>Let's See Who Is In Line?</h2>\r\n          <h2>Cats</h2>\r\n          <button\r\n            className={`adoptCat-button ${hiddenClass}`}\r\n            onClick={this.handleAdoptClick}\r\n            value=\"2\"\r\n          >\r\n            Adopt This Cat!{\" \"}\r\n          </button>\r\n          {catCard}\r\n        </div>\r\n        <h2>Dogs</h2>\r\n        <button\r\n          className={`adoptDog-button ${hiddenClass}`}\r\n          onClick={this.handleAdoptClick}\r\n          value=\"1\"\r\n        >\r\n          Adopt This Dog!{\" \"}\r\n        </button>\r\n        {dogCard}\r\n        <section>\r\n          <h2>Let's See Who Is In Line To Adopt! </h2>\r\n          <ol className=\"nextin-line\">{nextInLine}</ol>\r\n        </section>\r\n        <form onSubmit={this.onSubmit}>\r\n          <h1>Get in Line!</h1>\r\n          <div className=\"landing-content\">\r\n            <label className=\"full-name\" htmlFor=\"full-name\">\r\n              Enter Your Name\r\n            </label>\r\n            <br />\r\n            <input\r\n              onChange={(event) =>\r\n                this.setState({ fullName: event.currentTarget.value })\r\n              }\r\n              type=\"text\"\r\n              id=\"full-name\"\r\n            />\r\n            <br />\r\n            <br />\r\n            <button>Join Queue</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Adopt;\r\n"]},"metadata":{},"sourceType":"module"}